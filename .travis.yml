language: java
addons:
  apt:
    packages:
    - libxml-xpath-perl
sudo: required
services:
- docker
jdk:
- oraclejdk8
before_install:
- "./src/main/scripts/ci/before-install.sh"
- "./src/main/scripts/cd/before-deploy.sh"
after_success:
- java -jar ~/codacy-coverage-reporter-assembly.jar -l Java -r ./services/target/site/jacoco/jacoco.xml
deploy:
- provider: script
  script: mvn -P release deploy -DskipTests=true -B -V -s travis-settings.xml
  on:
    branch: develop
- provider: script
  script:
  - "./src/main/scripts/cd/deploy.sh"
  on:
    branch: master
notifications:
  email: false
  slack: 
  secure: FwMHwOFfe7lNgwo+ID+mIX4w9A1T0BJEthGM2aSDH9iqnlFdYKiequgzIFAfQHuzHIzjZsEF6y12uYPANrZvTa+3uqMStMqrWtkeNpGTXew5fnZLztgcJwXsPwbkDpNJcctXV++0TwWheVXBF9+mYbiXdQsimfbhqTu5yxnUG62UEhN/W+HlyAvf1TrMogCWABns00Iy9rAZjd9Ry5fGF1Fu1r3hOryipvoiVfnQJIn0+X+a6wAIyFddzA1p/GxS6/BOeT3dtXCBc+/pGjsHW9TWJoEkpxJ2AiZohAR+fTVW8e38/O6zIpSMOYSSCz8AGjWNfHCR0RjsDA0A6Ahsooon7KNx9qaK1X/tUtfQvE3c1HhwAEqz7vFE4OTSeY93f0Xiy/uLu7j21SGTl+CuYK8osbqFGW+pIwm8bu7oRRlHHDGZniWqGZkmvEPOLOKyk8/J7iYzJExgAZfyHawUUK0fYh8t/yxCXVyOz9G+s5gq6AX3rEvDp12kJzfUzxZX1XB4J6G2k9vlez5C9zghCkiSWSB5QuptafpauoKMdWmuGaftDdDHO+L0ZR14L08ctioPkQnVIWm7BNHUgGWiX2HFo9nsuhZ3+jzNUnt6hl7f3r4j2FAsYeQCy0Vfb51LhdVojIwPtpAbi68Uj3t2dIcA1nc357zfRvDCe+zORW4=
env:
  global:
  - secure: AxYzXWP6VZbA2wxO6C9EY+uBpf6aUcYVnt/yVDTRXUwumFVB4c6gOpju9Zd1gVUusgJz5fBpaN2But5pj53c2HzIziOtlrAdWI6HE1E5LUMaPk0GdDvdhsu6Ps99B/EtiNnm5FpCBAEQBOQhR8GocPDHuUDL1WZ7Q30iG0fqseyVDwlU8cF+OWBGZz+V3Zz0zkbtV1DhIH6fwrQoRUI09iK7p/KpMB5387U6VA0OK7J5EpAPYmVIt31kz9MfSRyntVxvt2Xf9Q4P3L/HGB+PyO5em8uYay7VcIZzgv/X712OPMmYJuQt9W+OFCq2tanpPeBvFLuCGMrHe8hkpzJj4bP5Fvfm21z2PkCz6HnEvWEAkqoYdm9YDyK6KgOjda6ihl8CcU5PdOm+TtKkclN902eHaDPA9w+rURAqjf/PW5nk2nrLZufrhTIyKduAnqflpYz/M32bUHPJ/3TakMa8dEGJdUuujwNrVMUxTOzhwONe86oa6D8kM5T8M6wxH98OhrNMAjTj8Q9In0IzcXepRDEt9N3VC+eN84z3I9VGEHVArzEfRJsTdpv+Yh03OvEh+bRAjessNHXFc3MDSMPwCxCFmQKOLx+SR5VTZyVPTUjdejfbEAfkSuBCNUpe6Rv8cCT/4q/tk1DnA2otoJQHf/AUEYRUsygEIl584OAAZgE=
  - secure: FKBpWH0M1uw1WfyvyJHXvUO1IvLuKnOqdOXSfudE82rh6lBn13skdEnVge0WuJxzQH2HPP9HpvEj68Kx8MYdJd2kyhhkRwgXYWp5zKz31pjIbNvIscPeZ9tfuEoh+TSgW/pVguEAKkHGCyMWnVfOvWnI9fRe5TfVjwJkh2n2ON5Zpathz6EE8YYok1tmxgIMTR8hz0Tt2Yi2MKb0MuFZ7BubHCCoBAfWG7WQLwZo76OXlm2qoRwKtw4Vjq7fMwuDyqwsKZqGAz6g/NL9oDn+wDPnX7gRYkVPZkPEmC7w9bcHs15YX72Lc0hvWLYui9MeKy0QauInRP+NZiFvN13jPy9xBn3g7MhL64GS9G2L9VLfXD8c1k4sOc1sUVUV8LFUSZc58N6TlRTF8z7UA/ncQ8PZxFY9nqt8uVs7589yEsLL915jQrgOoCJvWQzhk5TfofVN/CdW0T23PhOhTBGxSTqepzxkz6KnQmB/g2ag124HXFglz1+27u9kdB2dCFXkrKLjxyxGRP/xLe9CGSwi1qCX3AmepCDjjip1DeaepSFUuPjFjdBOVTFGlf5S8xZ6thuLlHqwciLLNz8VXl8HoNdgHLki0Jmr+gK9ckZ6Koe+M0+3eoxB7jC9BTK30oyE4mE54RH4V3jSeHJruoS62Dm5F2MQC+x8iHUbjZllt9I=
  - secure: M6eVJhKFk7uIW35gd3VtVg8hxFebgnN/lYF+K4QPxGiFFUNP57IrbUvL3//cwdyfFt8FXmyJ9SKJCnDegSlkxkPIb50+9SmTQ/6WTmdKsR17amH85Mwd1Rmk6zafmszBrrc105xoAVViNduB5W3Zt9l7bKQFZCXS4pkXpIuJT++DFoT2OEJCCLJEl6Wq0cZez2nCGqC0+o53tSi1YHby1Ty6Evu7EYiqk9xP7FeptIOe5CKd3MSqxAJqglxkZUDKJs7vLDzOOFBvVD0dcb/CYnKkciP3Y5WMSIjL4ReFtOsiMNZBKAtqitwhImLHRr5sEZ7E7pg6eREPnsFQ2md9hvsCs+kpkLWXtZo5GrS9+9lBenof7VkyZIErDtz9r9/3dDNpjazucx3sLIYct7RIw30U7m4qNmMV4nD83XL1zYNvYWuHl77Qv4Zhg+0LOov6jOrrYplTehqcoVb9zYfIpflxSkhP+t30Vam9Ot5bMVMO2Jq15sSEumOz38FV2wO2kAGINmJ7Fm5nPdDPvFshm/TGsfHe+PjKXGHe0RE0tUUMHbcwELBMtOVzWS3icB1qPMvw0lS8KMdaxRsKxNX3gQMqdQJ4lX5zxb5ptPkp6TsXBOEhyF9QQvdsGWNK9KyvRGmj22Dlr5t38FAsr1iKgmFpsAn5/sGWPSrilvDNKYY=
  - secure: M2fUKeVq3TGziqJbJctGMYw50PZzJ2ycxqAg45auxURIC5YCQAIL357FAIgMnu/+TdU3OPixHO79XhVeR7s5IT57S/n0DZ0A/QKFzpYzmHhbYdFG607UR4cMv2M0adbC68HMsbLRNBQfDPOFpWdP6K2why+J9/CgnqgcoIecadTrmY831Zj/hgOgyozUqu1PijWpVGIVq7yqejKAY4uHhtlGz/I+ncLtQFCAYdCXE6t0VL4u5uBWMmUfNY2cpB0k/c40meLl9QuVIqA/JxytfSe/ix0c2lHhvuh13CIBU4/sT0UHS+MmlHSXXlnF9TXF7e+yKqyhY1iSgDzBuSrBAza8w90wbtjJVEFtO+BzUgQCTcf/bMWdqtFJDI2Ac/sg7FIGDBHIXJLcbyNNXdIG8F7WXFxvmaIRbIIFmgNgQHk/Nn/PoS4FU33+L6kqQfyO0fkqnaQnSSEZQu45v8qJGi0SFXU+rI4j9YKKzMC+GtREhrNpzjKzUJz7B73I7Zs2rvMfdqOHbLnwDBTZvGvgtEvX829USHI78foMHAxd9Yg3TPDmklQ1txCjpjibOLST2RpjhQ1mgxbRgYvHHU+SRzw6MvqFRMc+Yz+5vIMDmgnhJuTYQJp/Le1JUyGIqTxq1uILAN2PUKO//IrMF9PcRZ371E40QszEUzo7+0i6ahU=
  - secure: eUmdpcGXMUyaH7+LC9h4wWV627GARWOQOV8ZScVoCfmjf7eT1NBCfGQd3GlgxpCoPzQ+fQCvUqM3Nrs78Z8NZOWojp/N6Wnek6SK4Ifu/LSekG0a1sPv2pxAMshBKQvWLU2XsCe9MZg6FAkeD4smHYt9whiMM/GkgWC5X+ySGiKIYilSrKJ1qHKJVmsQ09PSYFQCAO4v4vLaDjTQ7Rcq9oZkqFV62xsURyvhN+JR6lYqJIL/fKxtKAm3rrg/m0a9KNG6TPdP6z3z4jifLH9AL4M9A6e9IrcZDIfz3Qpd3qyYmiJCG1q3NMaj6RLxJp0EU7ul4mgcsdX+D+wWA+by7KOrWFUFL7rX2pl2jehVVeKEt5yAm5wMukC+j3LknUeoZdXnPPUyFJnBFqD80d0v99Bxj5AbPqMYMnsSf8mmoJDmVWrUyTvHU1dd8YHybYCJA+srueAhD3aEmejGBjmz1PRraF/zhprG0Z7caH/X6bEkvY3BLPV37tVZsvL/hylGRgnTFDUerWErtg8KFlwyVFl27hyVQzjvzc5noX0He3dkwGqvJ1yCS/3kSbn/A1xkdvjQQ9zMebSMyWgc8U+9LTYbafKZF1toM8mYGWT1PATm+t6skGmr44Uxy/CxbMwZlw+fN6Lrj1E9wTjVIgG62mqHRzSSBxt1Uls+3lcRLu4=
  - secure: T0/mq5bYwLKPmOKh+9nAbJZ0QEYcULn5DODoxLLRaCkAUMXbicIfeOxetdePYlHfS57cacdsAoePGhMTzarQ/0SnV9kPR7VqQ7A2w3aAuipQdTN9Q9/36q7HANBPxVgmC0B6ZF7LcmON9NgJ/yfPQQESLAKjSmu84i4WWIEjuu48XzADEXDhIUyQpdgExcYtfZRhfWtGP0kA1UkAFqY52AK3clZEI0ULuUR2EsdQRUumAK1+VQYZXNEXnT9u8eKdecKYLaMd8B7pQIrKKB8zZASEpKp7UV3agM1Kg0fooQMiR9Crlyeep/JRw7j6BpTV1A8f77oKNCb2bIwvP7VGzgPhSrCbMmxekWhb9ccgsvUQsACe1wWIBhonH3dHncVrDFgDLpbj9kVTDZts+szYwh8ov8hLHymYC4V9xhVo0ZlZXCvdE251ogNRTLqHH53/uk8Ns6HmjpxrwEVnBSW6cykajmgQiBNuodddPlTikXQlhY+3Fzc/eKsMMeyoVAjZnFMohhEOn+yida5HdaVWFdukSj9vhFEAeSWurxizwaRD18iK8WbPrR1zKOGD2XAcoBtLgke6dscZdekpDhZ9IpPwigcIphIQmJAdczFMnKCnwjF83Z/16GgmSmRNq3uqgtsM5sqih+zF9qus+Px6t/l6eVEfJAyHEnFDX9N4lK0=
