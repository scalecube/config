language: java
addons:
  apt:
    packages:
    - libxml-xpath-perl
sudo: required
services:
- docker
jdk:
- oraclejdk8
before_install:
- "./src/main/scripts/ci/before-install.sh"
- "./src/main/scripts/cd/before-deploy.sh"
after_success:
- java -jar ~/codacy-coverage-reporter-assembly.jar -l Java -r ./services/target/site/jacoco/jacoco.xml
deploy:
- provider: script
  script: mvn -P release deploy -DskipTests=true -B -V -s travis-settings.xml
  on:
    branch: develop
- provider: script
  script:
  - "./src/main/scripts/cd/deploy.sh"
  on:
    branch: master
notifications:
  email: false
  slack: 
  secure: FwMHwOFfe7lNgwo+ID+mIX4w9A1T0BJEthGM2aSDH9iqnlFdYKiequgzIFAfQHuzHIzjZsEF6y12uYPANrZvTa+3uqMStMqrWtkeNpGTXew5fnZLztgcJwXsPwbkDpNJcctXV++0TwWheVXBF9+mYbiXdQsimfbhqTu5yxnUG62UEhN/W+HlyAvf1TrMogCWABns00Iy9rAZjd9Ry5fGF1Fu1r3hOryipvoiVfnQJIn0+X+a6wAIyFddzA1p/GxS6/BOeT3dtXCBc+/pGjsHW9TWJoEkpxJ2AiZohAR+fTVW8e38/O6zIpSMOYSSCz8AGjWNfHCR0RjsDA0A6Ahsooon7KNx9qaK1X/tUtfQvE3c1HhwAEqz7vFE4OTSeY93f0Xiy/uLu7j21SGTl+CuYK8osbqFGW+pIwm8bu7oRRlHHDGZniWqGZkmvEPOLOKyk8/J7iYzJExgAZfyHawUUK0fYh8t/yxCXVyOz9G+s5gq6AX3rEvDp12kJzfUzxZX1XB4J6G2k9vlez5C9zghCkiSWSB5QuptafpauoKMdWmuGaftDdDHO+L0ZR14L08ctioPkQnVIWm7BNHUgGWiX2HFo9nsuhZ3+jzNUnt6hl7f3r4j2FAsYeQCy0Vfb51LhdVojIwPtpAbi68Uj3t2dIcA1nc357zfRvDCe+zORW4=
env:
  global:
  - secure: eeaQxBWAJxmCp0rQh+jlE4yCAY7ZoOGn8OorHBq0JS1gvzx+ioqGjBFkzWJHtWkwJkDnkIVoA/N1wcvjKrkRn/v3YcML9LfJy9TJMsHtLCIGvowikk/N6TEHr9sLDVPiZ/h6FFDPtWTv0SsTPqRKIu9vZHUM61uGjV77rp8u3wxu+Xd/gGTBlXSU0nDBoJzvv/wFZLUvmmktPsm528GVopuKUR3QGeSP97FW34PmljsTPahY8cbeXgoI2oW0O8tQBg3vEp+iRJ3+ermiBPeqfs96wLu9rxTN1XOqqDHsci2OozzOuDy8E+wIzZ49hhwzRLub0PgsYJ4bGn3lkuvKmD33IY3aVCXWcOgPuZmSYIAWuC+dQnfUfrYnj1LfiwwO0j8THm3YwuW6eV5U57hsCNOmobxBbaSBV6rlXXPl2qB063JeLvKbci9I1i6fDPWalDwgTSyBgghhm5JI0Vpw4AfdtOY7tnFWUYHACls5ePknh82Qu+qzQUoi8PqRqJ7p4A8xK1EltTcyyyUmSEHZ5p2E1pmP/LTQs9NItsJeen9p5kFpV3uEWcyNFm3Fr+u/kN4etyssnLif0vCYAEZwufjcbo5btwqDhAjcEToopAn95n0TJoFTc4xmYYgPBlNZEnynCdYXVFgv+U2Q/LbGdxQ8ZzopoCeMc0LP3xCkcWw=
  - secure: Re+iItIfPSvsrvYUei/ADt/72BjCnC3CpzvtE3Ngt2xULz5SZLJlWAM70+u+RERclvjJKvE5ygigcGoAJ1H4lvPl4/CtkaNJdbbL/Mycaveap2jggqEjclUyDpqtWBSmqen2gOY0nXaMzd0fUvkEvexRISfkNj2zeYWEeLjUhFH7pTDTnvgEwziPPeb5DirAjckYrLyvmL7nhUZAddviBAjR3qJtHwhnwPgE1R4uzFaLOKISNblY0CbGRuxMmrQwMOTb4ALmwPqwyjz/4b6RPwyAKp/a8e16itEK5XQUJxqjBangLn73ifwHEyOMn88MZYUuqsPee/2tubUqUgE6GnBS5lVTjS70o11svkHeoAiCzzBlW4yado7Ncj5IY4VOBMMqVqZPRjlLgpuJzqbEoyzLorQFILVAXDnsbaL6m6UpdheMNB1/X3MxY+dewpfDxwz3FbQoNU5YXlpOW+Nk7n4z/51L01CDOILH548TkPuH+X/xlxmmwiwnZvlWVdWkp1WgSwJtPyxuZA1+gyKL/QZsB4sVOLHuMfc88OjUtQyIyT7puFqv2i0928kBC896lz6ewnFX5NE9P4CVwLWWQx+aI5/PQFKkco6SQz/IhFvHrZSRwMb33vC8S0p1q4zJv0a02vx2g6EOn7eYle9J2mm/8/gj6D01QK+0xDmbxcI=
  - secure: GkbjHoCG5rPRL59KCnj4UsQe5bCreFlUmeIL5dDqFW7gLe2fmBji8Mq6G0d+Wp6Vp/f9sQDKNe57mJpkxle9klKQ7AUkFoYcPgMtSSquvXFCK9YBNdnxjJCxtOJpCjEwfc2pVkJ47dWiohDs8YW2B8lLXRWtr/u52dF/5plEijECh8MMHYEpWXJPmPY96qio4O8Tw6eIvsWTVVQhyAwvypgNT7jh58B+cZz5E1EAACInd/XypimWz6z4IU1vSduhqN00W2oTgWIT58CtmSPuB/1e4XS5RUAZo334k7XXZuG1wQ6b9RlhL92errC74vOAgF3kGpljgxv+UckdTwR3Vr1cNoJVg84dV7tV+9SsziF4sS6mgnKghMmyS2FDluOqNjHmVv8C3bXdqIqb4zs6g/Ez/x0FFuugZBr7V0lAZFfH1qUIrkZzNT/JEDuUmA27DnQpXi/PyEe7kTFFFQvdt+YJzmdeDPe5qgAioDZWmXV+jKfB99g/MGJG9cWQHqEUdRG34JEyNcFByRQISNUrWRgIxoSZvBQVPkPi+Xw1tfuZcVsWFJHzR1lQo8LNYHKYMTOnEA/8jLPUfMMf6aOBZd5vfpCiNEE9EnNd8m7oqf90NLiBWkImaPyPR5fiZUB2DJ6s8+mtC/njl7OZHTlX1MS8PolPHRWrtN5SFeQCbus=
  - secure: BR7TdZKsTWwOPzWiffS+WxCsCMqVbChbwAuak0o64Dio+9EBXa7BKtoAQXwh34tRHDSBDA0EbJhLVTLcqKm615yF8OeUHTuxHuz8vznUYZaxFbMD1A7Bbe+9XYo9WMw2NjnKE32XG8Li+0TDGjXpnRDDhFb+Qx8fsY6QlImhuNkYQAR68LuIcR2vYHcAeppdl2Kuk51RD7wA/Irj4bzA8afDaURp6FSa7ZgWuldkV8lJT872w9vMEcMHTOVRwCtxNhhXE8y7X4mqx2OasRMOiBWDybpkHgF29V++/HXhRriOVmUfp9+eDArKV439LTuWrmFZtW97tfQl8DQbXPwBbyK6RR3t4RwufyRMyXbsKvANnFnOT+QrVrLJBNx4TLwO5r8xG2lIZ86lxzId616xHcxF1B1XppgpJlstq3xI3O8l5bZPEn+1e4cdnl3vPZ/DcZa8j97YCrPszP9etzLsqqORqmz+WMeTa9jXLv+LdifnNGXUAJTy2Rg2vqqAUHxSACUAHS1tPAik7lTfsSuHG6OJirrXYU2XnKdqMa95LHeFmP4k6r7wszt4927Q0yqJPh0HHGUFtyR6Z/Zo7yk6z2xO3WkwbQagJtdN80ysYBVXd+VvSznCeVDpZ/TcBY7pcxcuEhZ1BKMhr4PpP+lDndvqdPvDXKs7123U4JD3QyM=
  - secure: kUPx4Kw7atYpXFcarmoAElSfWnAp3VUWbDtyfMEWo/wS6NHxY5ZJR3QRqjaF04CAncA6jzshcDVS9aPTgx0hBuxP+dkTBrQfHY5da4UXdOs/mYBJkzPuqtBqrvqyFi8L44tu0aXxnhWIDjOs0bSJ/ERMTa+IeVOp2HI5z7LHazcKolalWORwirj87QO2oFwwGkLbBbL+l/ZAMnvVLFWteLoMDgrAirDbkeiTaabXM/a7Zy+rEN6GphprFWvBCplA4obCffA03ULknTgDB/CfoGURm1Uo5Sk/ZktdBMb+PqYoPQvRe1zS9IKCM/CdDCibEHR3gb4DMiGAoyTmRpzcq5iSU3cLFBnrxmr5N2DpoS4vYINF/vKCPWYq+h5w5Oz0TXs1rgB0bRycnUurWa6RQ5WEnwCdNyJjRlXEdOKjctFjIxXs/YCZUVUdVX7DOksbU4MMncVWa15yTJznZzb2+AfnPPJtttrC5TiFThxtbxKMMt7jWW9VDBYiYjrgvj4hFIwrlG1a5UkyGoE6Hd+LclKqad4wPxq/gsyorsN94buZ7L8hGPmTm+NXhR50gC4dIgtY5NAykWMcWSiU8VcCPml7+Ts9U/9XqcSmzMT2g8gBBaJ4S5mIiSuLCYYzoLXCYge7u8OttxC7KZDDGJvjpW5kR8WwsblRJNUB0S6P1Bc=
  - secure: iChUjy4xjQ1vDnLJd1eG/O2idz41UiJkbEjatKGoROhlkQ4uVwo8aFjwJfEXk0kOKmD3oHURs+zUOIyoOVjvF4dm7Di/HxZd0iozem/vRSIFy0kAPQZzs56NjadV2JZaTkFNH+zN2MSArtrkraD97rcycAG7v+i6nkpYNZQlldMIIUED3XCjL950AWKORdJXTqYqdEigi6Eq1P0sLgEwM7Hi5/rt+vV/9i9t8h9jIwtkdkKGxv2slHBcAbBM/UjUvod+Nz+n+HMWmWkLoZ2vz7dAVdfYY62ASkTgvOWSo6KWYSPAPpNKFx6ZQ9KXWipFUDzsOC13fG8Jw5EP5jYaE0M1VeV0zFfFSEYqstoqo6zly7nZ1mXY9NaxPnbIRl0mpDn8YXXPLCgTvscsFcyzBJg3g3YCCocB9gNqiV6gwB9gWVGCHXe7jmpiaNTQgmWoffYPuHptartQda8v0SD+vjVhnsScZ6bFGuaw8BS02D0FPz0jB3nG/6jjZ3pNPHnvNVFwegHgorxLv7iqfWYSmycqdT4BQn2ZcqYBLB1dJ5frW+TQSJjy1fTaFgnfGdJIkRX/gOiOnNfAa4DEkFTo5VlGszvF/rgVmUnexZKJPuEjGPIRlseEB4jQUQ+KtfMuxmCTjj5WE+DOLeWe8oXjPdWyJ3YGSFPLQIFAJi1lzGo=
