language: java
addons:
  apt:
    packages:
    - libxml-xpath-perl
sudo: required
services:
- docker
jdk:
- oraclejdk8
before_install:
- "./src/main/scripts/ci/before-install.sh"
- "./src/main/scripts/cd/before-deploy.sh"
after_success:
- java -jar ~/codacy-coverage-reporter-assembly.jar -l Java -r ./services/target/site/jacoco/jacoco.xml
deploy:
- provider: script
  script: mvn -P release deploy -DskipTests=true -B -V -s travis-settings.xml
  on:
    branch: develop
- provider: script
  script:
  - "./src/main/scripts/cd/deploy.sh"
  on:
    branch: master
notifications:
  email: false
  slack: 
  secure: FwMHwOFfe7lNgwo+ID+mIX4w9A1T0BJEthGM2aSDH9iqnlFdYKiequgzIFAfQHuzHIzjZsEF6y12uYPANrZvTa+3uqMStMqrWtkeNpGTXew5fnZLztgcJwXsPwbkDpNJcctXV++0TwWheVXBF9+mYbiXdQsimfbhqTu5yxnUG62UEhN/W+HlyAvf1TrMogCWABns00Iy9rAZjd9Ry5fGF1Fu1r3hOryipvoiVfnQJIn0+X+a6wAIyFddzA1p/GxS6/BOeT3dtXCBc+/pGjsHW9TWJoEkpxJ2AiZohAR+fTVW8e38/O6zIpSMOYSSCz8AGjWNfHCR0RjsDA0A6Ahsooon7KNx9qaK1X/tUtfQvE3c1HhwAEqz7vFE4OTSeY93f0Xiy/uLu7j21SGTl+CuYK8osbqFGW+pIwm8bu7oRRlHHDGZniWqGZkmvEPOLOKyk8/J7iYzJExgAZfyHawUUK0fYh8t/yxCXVyOz9G+s5gq6AX3rEvDp12kJzfUzxZX1XB4J6G2k9vlez5C9zghCkiSWSB5QuptafpauoKMdWmuGaftDdDHO+L0ZR14L08ctioPkQnVIWm7BNHUgGWiX2HFo9nsuhZ3+jzNUnt6hl7f3r4j2FAsYeQCy0Vfb51LhdVojIwPtpAbi68Uj3t2dIcA1nc357zfRvDCe+zORW4=
env:
  global:
  - secure: Inljq4Hy+7YbNFs1ydxlZirzTXwjIZweDmMIokdxeM9fveM6jQIG40X8GQeBjsST3iXjljB1MWMizBDUHbzfePhNwTaKcKhsWD7Jb+mSeMUYJENYCG4BTm93DjAfTUVz4c/MAgJOIPfimJNf3zpWl8E7q7eHzHyOsHzC3KsEYDC/+DotaYkIKd+j4wIIJJgHAV46g/Ue1xb5mNK4KgwY8lrl8XJI1GQvtcisO1kQMBiXN48BAFF6H+9/+7WBLfSRRE8VUKjKi5rD5Uw0gHGB0/3+wvkh5Ebyur8NQMp9m663xEYBjg635W/1a1UYKIhkQ/nWAPRnJsRZrqD923+Fm15I+nI/TkQTPdxRonrRVHlonlfGur1AkVZf4K5/+o42eg4SH+h8nJosPKyIDeTrcq1W9Syuzzpxkhav6n7YCO4xf4nI8okSsorYQ6ljGYShenuE6q7a8FhBZwFjUCXQcLlm4xof5MtgvGTxbbfYS47fopoGlZFNm40wQ+cgzDA73VKuVvJv/zpPKq7s7Nks1clRPkr8XCu5amG3WyLvV33+WeyQ4iSqF7vXc0xnKRU2B54mkBuMzyHA0iW7Y7eOwSMuh4dVWFKs8Wqe8NvlEoqVsQHq4Mo33uyc3aZHz4AycQP08z1Obav5C+h19qej2YKhwAhEmrzr27n653YU+60=
  - secure: KWkjcCyCTovCeTI9n/PEk4Hsv8iAWbXT9+xA5Qe0lWtlj0EhLUOiEvGiXa5on6Ea+Y7lYtZ6FSHQEDJ/+M9b1L5uXTPWCLk15+S4EGeST90PCjw85QGDIPszd8g5bUugeItcWPBpUpO6EhQk7qP8EKxIU23NdMmdBSo2w6oVirwD93mYwr0rJOMGHXQdvG1RwTAkxFdygAqKAN0VB/HX2A/EhPIB5/oAvQznGjnh0KSjKErflUubYYfM3fFnSpSRWODgFn1CVFiREfWY1aUiVRKHcpnYZYdTgJYLuAQxb0HKQcFEyjaCnYpCEXZl/+D7Ffwl7uBqT0C4p2tVJNCye627B5bL5OfTIY63eLy34b9JK2MswVtRlYhNlLCesLM8pkBvdBiTrbsQbgK8yLTap159ay3vJr2WWdID6wRpO9vF+dTKVWaPO5wYttIxu64FyF0VZMCq3hrmTyoneSlF3uiTsHWcdGZ+ZDpQarPvbsdNyUSVdNAnyRwcVv3J0UmsBM3khjWlFoW0cTLHfRBBqW23Enm5Nmr9ccm5bjGCqCiI/Vae6fs3kelTqsI4TqsBgROW15tr7CMvA7MNR2BE2dHw+VrVglTgMVG0s29PQxgTlr0uxIJZnyZep9aHn8wma51+ihXwUMyQaf/PaAvTIxRQHi/dwnri2fz1IvZ7Ie0=
  - secure: o7gnIlmeT2Ze7E0qmE2ohD+M+uxN1VW6Y9Q+KKuJ3IQdjQ5h36YiasDBbxFyCwSJgbZrQMqMr/H2a8F501FctE4zkzdEsim1hWhqFq6R3lLFOMY9qtvApO2BMJ3MfsQmMbUdlPZBZFRZfroB8yt0oQMIIrIyFgtMxNil1dOLrzh6C9dVmpm6V6T7/7pv1Uw27P7F8vXMYYniPj/CxbKw2oWqWS2JGUDg+GSJ+g1ZIEJsWpXJwBSVKVRMtd8I7p7s24hEy1yAnn3dsxQYsdu28lB669A+B1T7Nl3f/aKAWrezlANruFEFkODwrzx6x7w5FQQHe4gJ5zCimuwUIrMQM8+BQOenYsJkKjftTk9lggH96713qD2clCfY5enCqZvTWATQ2xRCEROIAq7zI/t2CdMdJdoGBGyqCjhC3U/GZyPB6ps1/RbT9Ap5seAiKf3YfQMDGOwYyFSyLGjMQVIjsRaS9qB+g+5O8hxUi1k+1QcW0Nzx3EzMgUdS6qfu6k0s2KcJR8jhiYBYzduEkCV8JXbWp1wNdwXSk4CBH95gAxAQzUAM9lacSSYldKFi6ycDFu+ENg2djyVKKAv3kVa16fqxFUMcZpKLgmDqa9yotKnmGe1JHvvCxogsVr1P3kZeOCSb0rQjdbWZpxS+9HcSGAadPEazWNfgqulXz+rjiak=
  - secure: ICMk0mmLghGRR+67SyKVHoV+IZvCGJhvRUe3Jkfp5KhYM2Two2ssWpD2kFSdtrnUPumeb4Oc6I6waNIHBpxTrHB0aBWFuNeeWzFQM0HWe2UxyAksh9NhW/A8xXimZAMNcdHChCNL7ZpvbaOyUQtOnQkxTbUeR5sL6zzGQfnVxfJT1Psx8Q8/VKEKBfXx/pLOHIayUUzc9TbxPjIfdx4mcQZzxAd3Vk1SkRhiUPFsLai5Ft6RwLK1qiyWT1ia+YjApimzW6/iwvKMyR4BIEGNZt+ngWxxsA/f5rXAXeVPOOVVEF7vATA8ActJbM1+PACTPafxIChjYfOlgtDzctUSeKUt8DBT2qDvTLKJXFNGKXXMD6YnKgv98r5T8R5e14S4inRUY57DNIfdcfgWm9yG1Ct5dPwXGQKNeWjqi26uKhTnRIE3WvPnfWun0ktaEVrq/l6//4EbJQQj83zbya6YFb5Oy2yt3WNOFClQDcnjh4X3rNC2EJ0cDJy5giZMXHZ+Gb4pw/IIcJ/5PErQvOv9Nlw27RPxvyClPtm9+s1OfeWeHuHJkvhmTeLIGMrLbxU+Nw19r3pjyEByj9Rtc6iRvr6r+Op8djl7e7rxDAf63qqdIEk0QpXmVGKmURECIQe+JvZO4gQ75FeiQUsZZuRyegf0GLnh5/J4WG4kmLQZQYs=
  - secure: FtlybNDkKv8dcjG82HjuDeVGq6znOzVfxmCPCTK4T6JtbjuWjdjn6BikwyJXACrQH66QgatJ13NFSAm59zFMRKI7EFUIDtt+0EnHp2PDf/nqPkB47VIfWFpARlsnY1P9dETe1XS8UpAM+X6gFTRWy8JOxEidTHDOQYIGhMb4K7srsG/0xloNWkbAluoJBXNMqn9FmmYcn0uJxrcFsI1dWAlFfhaiqVuFrFlkrZVA3EYIt3nBoiwAo/K/fYATPg3bj9A7WexjIvk3PdvQoUJ48aOvmI+Nwio2DqWver3I5oUTIJQv7hzRYPdGURxwSLMap4MmCzC93gXd3HvZ4WopucPvAnX1JcBD6Y1uLx9IGjiLDm5JB5BrDKjVkWPzs8qCVTgTrGXhPPILTDMqOk5VNtBtf92SeGCt9n6zazHJ9fBA6wVaQLtCJi3KZSap4Q2Qnfn5Ofm5s4h01XE8M1fXdgWP8WenGE/yqK2Ot7E2he2rHIScRZCaSLlirQ/lselE+gc1bRc3RA1A/tbbVU7X66vGlRVrFdUGZKGnrQzcirXF+O/ni4xBYRqr9xq5tNWKb+8fvFvGaQVMRtOpi8Z5QXA1S36PaO5T4v5IQ4OLW8qbqufhoTofuOjZwQRcwpipKgnIBopviZW1cY3rR+hZ1piQsJ2DVDf/58DCzFxkfAU=
  - secure: e3wi962hrGBDoWf76ZUv6w50vHoQWNlt9q3Y8Ht/kRSvEDwmTW/HyJVsXwx3/dE3J5MgiuKJ+dbtgH/8AkOn3U8xHjg5Wm8Uqg5odWbxwFLd3Bg3D2vkk00FJ/9nAU6uexFuXNAmVJt9/HMQbDcedkZiFGhcS0GdvS6IgVPlDsNi+BbG3PYZ2FYxnkPCEOgJnDo36twXPnXeG2EU5OsVIZg06F4yIEhr4Mw//bizmVb1Tm6FX3wtIitoAOAFMHDX6UuH/TDACucgyf38z6oPrtq40DkUJMrYqQ4jAihtrXzFzvVngIXKb4VSN1UJE2+xHusElH2Ng4nLeEf2nD2w4YypLYB2FPMndwR/7rCtm3yMV16iGX+aHbBKFW/tAI9QZ42kmzM1vpm48SHFiaRIXsOpPmFNyiGXuz2VDMctST0prSr2pvSg1VDLzKGrdAjgZHHstxRXrMOKzhtYJG+Mrx46/4jA7kKkmBWQKFjvAb+auzlzZl4yKPdCHnOiaC+DlPCb22b1TcIE1T2qPnKPFSSUV3bPR9S2BiYHTPV0mfI/du5qpWYv0zSeIu1TlrmHSpiR4bHEUljUYyH8lekFjRtoaG4er/9BlSoIQsNOKf0TQV4OFFbRLw3+1Pn/sioPv4tzV1cG1RO78m7o9u4mcOfarYoTwSSVVyNxWI8m2zk=
